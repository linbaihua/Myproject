<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>常见的闭包</title>
</head>
<body>
    <script>
        /* 
            -在外部函数中返回内部函数
            -内部函数引用了外部函数的参数

            -闭包的作用？
                -  ○ 在JS中，变量的作用域分为全局变量和局部变量
                    ○ 函数内部的变量用var定义就是局部变量，不用var 定义的就是全局变量
                    ○ 函数内部可以访问全局变量，但是在函数外部不能访问函数内部var定义的局部变量
                    ○ 但是有时候在函数外部不得不访问函数内部的局部变量，所以就需要某种办法访问到函数内部的局部变量
                    ○ 闭包应运而生，在函数的内部在写一个函数，使得函数外部能够通过这个函数访问函数内部的局部变量
        */
       function fun1(){
           var a = 2;
           function fun2(){
               console.log(a);
           }
           return fun2
       }
       var fun = fun1();
       console.log(fun); //返回了fun2函数
       fun(); //2

       function showDelay(msg,time){
           setTimeout(function(){
               console.log(msg);
           },time);
       }
       showDelay('linbaihua', 2000);

    </script>
</body>
</html>
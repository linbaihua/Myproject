<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>map含义和基本用法</title>
</head>

<body>
    <script>
        // 1 什么玩意都可以作为map的键名,

        const obj = { name: 'linbaihua' };
        let m1 = new Map();
        // 对象作为键名
        m1.set(obj, 'canon');
        console.log(m1);

        // 2 可以接收一个数组作为参数，不过这个数组也是一个个键值对数组

        let m2 = new Map([
            ['canon', '5d4'],
            ['nikon', 'd850'],
            ['sony', 'a7m3']
        ]);
        console.log(m2);

        /* const items = [
            ['name', '张三'],
            ['title', 'Author']
        ];
        const map = new Map();
        items.forEach(
            ([key, value]) => map.set(key, value)
        ); */

        /* 
            3 事实上，不仅仅是数组，任何具有 Iterator 接口、且每个成员都是一个双元素的
            数组的数据结构都可以当作Map构造函数的参数。
            这就是说，Set和Map都可以用来生成新的 Map
        */
        let s1 = new Set([
            ['nikon', 'd850'],
            ['sony', 'a7m4']
        ]);
        let m3 = new Map(s1);
        console.log(m3);
        let m4 = new Map(m3);
        console.log(m4);

        /* 
            4 Map 的键实际上是跟内存地址绑定的，只要内存地址不一样，就视为两个键
            -因为数组是对象，如果直接传入数组作为键名，使用get传入数组（值
                一样，但是地址不一样），所以传入对象的时候，应该传入对象的地址值
        */
        let m5 = new Map();
        m5.set(1, 'canon');
        m5.set('sony', 'a7s3');
        const camera = ['nikon'];
        m5.set(camera, 'd850')
        console.log(m5);
        console.log(m5.get(1));
        console.log(m5.get('sony')); //undefined
        console.log(m5.get(camera)); //d850

    </script>
</body>

</html>